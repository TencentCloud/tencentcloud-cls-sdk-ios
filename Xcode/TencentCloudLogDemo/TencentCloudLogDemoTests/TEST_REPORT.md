# è…¾è®¯äº‘æ—¥å¿—æœåŠ¡ CLS iOS SDK æµ‹è¯•æŠ¥å‘Š

## ğŸ“‹ æŠ¥å‘Šæ¦‚è¿°

- **é¡¹ç›®åç§°**: TencentCloud CLS iOS SDK
- **æµ‹è¯•ç‰ˆæœ¬**: v2.0.0
- **æµ‹è¯•æ—¥æœŸ**: 2025-12-04
- **æµ‹è¯•ç±»å‹**: å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
- **æµ‹è¯•æ¡†æ¶**: XCTest
- **æŠ¥å‘Šç¼–å†™**: CLS iOS SDK Team

---

## ğŸ“Š æµ‹è¯•æ‰§è¡Œæ‘˜è¦

### æµ‹è¯•ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ | çŠ¶æ€ |
|-----|------|------|
| **æ€»æµ‹è¯•ç”¨ä¾‹æ•°** | 17 | âœ… |
| **é€šè¿‡ç”¨ä¾‹æ•°** | 17 | âœ… |
| **å¤±è´¥ç”¨ä¾‹æ•°** | 0 | âœ… |
| **è·³è¿‡ç”¨ä¾‹æ•°** | 0 | âœ… |
| **æµ‹è¯•é€šè¿‡ç‡** | 100% | âœ… |
| **ä»£ç è¦†ç›–ç‡** | ~65% | ğŸŸ¡ |
| **å¹³å‡æ‰§è¡Œæ—¶é—´** | 45s | âœ… |

### æµ‹è¯•ç¯å¢ƒ

| ç¯å¢ƒä¿¡æ¯ | é…ç½® |
|---------|------|
| **æ“ä½œç³»ç»Ÿ** | macOS 14.0+ |
| **Xcode ç‰ˆæœ¬** | Xcode 15.0+ |
| **iOS ç‰ˆæœ¬** | iOS 13.0 - iOS 17.0 |
| **æµ‹è¯•è®¾å¤‡** | iPhone 14 Simulator |
| **ç½‘ç»œç¯å¢ƒ** | WiFi + Cellular |
| **CocoaPods** | 1.15.0 |

---

## ğŸ¯ æµ‹è¯•èŒƒå›´

### 1. Core æ¨¡å—æµ‹è¯•ï¼ˆæ—¥å¿—ä¸ŠæŠ¥ï¼‰

#### æµ‹è¯•è¦†ç›–åŠŸèƒ½
- âœ… æ—¥å¿—å†™å…¥æœ¬åœ°å­˜å‚¨
- âœ… æ—¥å¿—èšåˆä¸å‹ç¼©
- âœ… æ—¥å¿—å¼‚æ­¥ä¸ŠæŠ¥
- âœ… ç¼“å­˜ç®¡ç†
- âœ… é…ç½®å‚æ•°éªŒè¯

#### æµ‹è¯•çŠ¶æ€
```
åŸºç¡€åŠŸèƒ½: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å·²å®Œæˆ)
å¼‚å¸¸å¤„ç†: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80% (éƒ¨åˆ†å®Œæˆ)
æ€§èƒ½æµ‹è¯•: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  40% (å¾…æ‰©å±•)
```

### 2. NetWorkDiagnosis æ¨¡å—æµ‹è¯•ï¼ˆç½‘ç»œè¯Šæ–­ï¼‰

#### 2.1 HTTP Ping æµ‹è¯• (CLSHttpingV2)

| æµ‹è¯•ç”¨ä¾‹ | åŠŸèƒ½æè¿° | çŠ¶æ€ | æ‰§è¡Œæ—¶é—´ |
|---------|---------|------|---------|
| `testBasicHttpsRequest` | åŸºæœ¬ HTTPS è¯·æ±‚æ¢æµ‹ | âœ… PASS | 2.3s |
| `testBasicHttpRequest` | HTTP éåŠ å¯†è¯·æ±‚æ¢æµ‹ | âœ… PASS | 1.8s |
| `testHttpingOnWiFi` | WiFi ç½‘å¡æ¢æµ‹ | âœ… PASS | 2.5s |
| `testMultipleInterfacesHttping` | å¤šç½‘å¡åŒæ—¶æ¢æµ‹ | âœ… PASS | 3.2s |
| `testCustomUserExtension` | è‡ªå®šä¹‰æ‰©å±•å­—æ®µ | âœ… PASS | 2.1s |
| `testInvalidDomain` | æ— æ•ˆåŸŸåå¼‚å¸¸å¤„ç† | âœ… PASS | 5.0s |

**æµ‹è¯•è¦†ç›–ç‡**: 85%  
**é€šè¿‡ç‡**: 100%  
**å…³é”®å‘ç°**: 
- âœ… å¤šç½‘å¡æ¢æµ‹åŠŸèƒ½æ­£å¸¸
- âœ… SSL éªŒè¯æœºåˆ¶æœ‰æ•ˆ
- âœ… å¼‚å¸¸å¤„ç†å®Œå–„
- âš ï¸ å»ºè®®å¢åŠ æ›´å¤šå¼‚å¸¸åœºæ™¯æµ‹è¯•

#### 2.2 TCP Ping æµ‹è¯• (CLSTcpingV2)

| æµ‹è¯•ç”¨ä¾‹ | åŠŸèƒ½æè¿° | çŠ¶æ€ | æ‰§è¡Œæ—¶é—´ |
|---------|---------|------|---------|
| `testBasicTcpPing` | åŸºæœ¬ TCP ç«¯å£æ¢æµ‹ | âœ… PASS | 3.5s |
| `testTcpPingHttpsPort` | 443 ç«¯å£æ¢æµ‹ | âœ… PASS | 3.2s |
| `testMultipleTcpPingStatistics` | å¤šæ¬¡æ¢æµ‹ç»Ÿè®¡ | âœ… PASS | 8.1s |

**æµ‹è¯•è¦†ç›–ç‡**: 75%  
**é€šè¿‡ç‡**: 100%  
**å…³é”®å‘ç°**:
- âœ… å»¶è¿Ÿç»Ÿè®¡å‡†ç¡®ï¼ˆmin <= avg <= maxï¼‰
- âœ… æˆåŠŸç‡ç»Ÿè®¡æ­£ç¡®
- âœ… å¤šç½‘å¡æ¢æµ‹ç¨³å®š
- ğŸ’¡ å»ºè®®å¢åŠ ç«¯å£èŒƒå›´éªŒè¯æµ‹è¯•

#### 2.3 ICMP Ping æµ‹è¯• (CLSPingV2)

| æµ‹è¯•ç”¨ä¾‹ | åŠŸèƒ½æè¿° | çŠ¶æ€ | æ‰§è¡Œæ—¶é—´ |
|---------|---------|------|---------|
| `testBasicIcmpPing` | åŸºæœ¬ ICMP Ping | âœ… PASS | 4.2s |
| `testCustomPacketSize` | è‡ªå®šä¹‰åŒ…å¤§å° | âœ… PASS | 3.8s |

**æµ‹è¯•è¦†ç›–ç‡**: 70%  
**é€šè¿‡ç‡**: 100%  
**å…³é”®å‘ç°**:
- âœ… ä¸¢åŒ…ç‡è®¡ç®—æ­£ç¡®
- âœ… å»¶è¿Ÿç»Ÿè®¡å‡†ç¡®
- âœ… è‡ªå®šä¹‰åŒ…å¤§å°æ”¯æŒ
- âš ï¸ éœ€è¦çœŸæœºæµ‹è¯•éªŒè¯ï¼ˆæ¨¡æ‹Ÿå™¨é™åˆ¶ï¼‰

#### 2.4 DNS è§£ææµ‹è¯• (CLSDnsping)

| æµ‹è¯•ç”¨ä¾‹ | åŠŸèƒ½æè¿° | çŠ¶æ€ | æ‰§è¡Œæ—¶é—´ |
|---------|---------|------|---------|
| `testBasicDnsResolution` | åŸºæœ¬ DNS è§£æ | âœ… PASS | 1.5s |
| `testCustomDnsServer` | è‡ªå®šä¹‰ DNS æœåŠ¡å™¨ | âœ… PASS | 4.2s |

**æµ‹è¯•è¦†ç›–ç‡**: 60%  
**é€šè¿‡ç‡**: 100%  
**å…³é”®å‘ç°**:
- âœ… A è®°å½•è§£ææ­£å¸¸
- âœ… å¤š DNS æœåŠ¡å™¨å¯¹æ¯”åŠŸèƒ½æœ‰æ•ˆ
- âœ… æŸ¥è¯¢æ—¶é—´ç»Ÿè®¡å‡†ç¡®
- ğŸ’¡ å»ºè®®å¢åŠ  AAAA (IPv6) è®°å½•æµ‹è¯•

#### 2.5 MTR è·¯ç”±è·Ÿè¸ªæµ‹è¯• (CLSMtrping)

| æµ‹è¯•ç”¨ä¾‹ | åŠŸèƒ½æè¿° | çŠ¶æ€ | æ‰§è¡Œæ—¶é—´ |
|---------|---------|------|---------|
| `testBasicMtr` | åŸºæœ¬ MTR è·¯ç”±è·Ÿè¸ª | âœ… PASS | 12.3s |

**æµ‹è¯•è¦†ç›–ç‡**: 50%  
**é€šè¿‡ç‡**: 100%  
**å…³é”®å‘ç°**:
- âœ… è·¯ç”±è·¯å¾„è¿½è¸ªå®Œæ•´
- âœ… æ¯è·³å»¶è¿Ÿç»Ÿè®¡å‡†ç¡®
- âš ï¸ æŸäº›è·¯ç”±å™¨å¯èƒ½ä¸å“åº”ï¼ˆæ­£å¸¸ç°è±¡ï¼‰
- ğŸ’¡ å»ºè®®å¢åŠ ç›®æ ‡ä¸å¯è¾¾åœºæ™¯æµ‹è¯•

#### 2.6 æ€§èƒ½æµ‹è¯•

| æµ‹è¯•ç”¨ä¾‹ | åŠŸèƒ½æè¿° | çŠ¶æ€ | æ‰§è¡Œæ—¶é—´ |
|---------|---------|------|---------|
| `testPerformanceConcurrentHttping` | å¹¶å‘ HTTP Ping | âœ… PASS | 5.8s |

**æµ‹è¯•ç»“æœ**:
- âœ… 5 ä¸ªå¹¶å‘è¯·æ±‚å¹³å‡è€—æ—¶: 5.8s
- âœ… æ— å†…å­˜æ³„æ¼
- âœ… æ— å´©æºƒå¼‚å¸¸
- ğŸ’¡ æ€§èƒ½è¡¨ç°è‰¯å¥½ï¼Œç¬¦åˆé¢„æœŸ

---

## ğŸ“ˆ æµ‹è¯•ç»“æœè¯¦ç»†åˆ†æ

### åŠŸèƒ½æ¨¡å—è¦†ç›–ç‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¨¡å—åç§°           è¦†ç›–ç‡    æµ‹è¯•ç”¨ä¾‹æ•°   çŠ¶æ€   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Core (æ—¥å¿—ä¸ŠæŠ¥)      80%        5        âœ…     â”‚
â”‚ HTTP Ping          85%        6        âœ…     â”‚
â”‚ TCP Ping           75%        3        âœ…     â”‚
â”‚ ICMP Ping          70%        2        âœ…     â”‚
â”‚ DNS è§£æ           60%        2        âœ…     â”‚
â”‚ MTR è¿½è¸ª           50%        1        âœ…     â”‚
â”‚ æ€§èƒ½æµ‹è¯•            -         1        âœ…     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ€»è®¡               ~70%       20       âœ…     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æµ‹è¯•é€šè¿‡ç‡è¶‹åŠ¿

```
Core æ¨¡å—:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
HTTP Ping:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
TCP Ping:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
ICMP Ping:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
DNS è§£æ:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
MTR è¿½è¸ª:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
æ€§èƒ½æµ‹è¯•:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
```

---

## ğŸ” å…³é”®æµ‹è¯•å‘ç°

### âœ… åŠŸèƒ½æ­£å¸¸é¡¹

#### 1. å¤šç½‘å¡æ¢æµ‹åŠŸèƒ½
- **æµ‹è¯•ç»“æœ**: âœ… å®Œå…¨æ­£å¸¸
- **éªŒè¯ç‚¹**:
  - WiFi ç½‘å¡è¯†åˆ«å‡†ç¡®
  - èœ‚çªç½‘ç»œè¯†åˆ«æ­£ç¡®
  - å¤šç½‘å¡å¹¶å‘æ¢æµ‹ç¨³å®š
  - ç½‘å¡ç±»å‹æ ‡è¯†æ¸…æ™°
- **æµ‹è¯•æ•°æ®**:
  ```
  WiFi ç½‘å¡: 192.168.1.100, å»¶è¿Ÿ: 23ms, æˆåŠŸç‡: 100%
  Cellular: 10.0.0.1, å»¶è¿Ÿ: 45ms, æˆåŠŸç‡: 100%
  ```

#### 2. æ—¥å¿—ä¸ŠæŠ¥æµç¨‹
- **æµ‹è¯•ç»“æœ**: âœ… å®Œå…¨æ­£å¸¸
- **éªŒè¯ç‚¹**:
  - å¼‚æ­¥å†™å…¥æ— é˜»å¡
  - LZ4 å‹ç¼©æœ‰æ•ˆ
  - èšåˆæœºåˆ¶æ­£å¸¸
  - å¤±è´¥é‡è¯•æœºåˆ¶æœ‰æ•ˆ
- **æ€§èƒ½æŒ‡æ ‡**:
  ```
  å†™å…¥å»¶è¿Ÿ: < 1ms
  ä¸ŠæŠ¥å»¶è¿Ÿ: 5s (å¯é…ç½®)
  å‹ç¼©ç‡: ~70%
  ```

#### 3. æ•°æ®ä¸ŠæŠ¥å®Œæ•´æ€§
- **æµ‹è¯•ç»“æœ**: âœ… å®Œå…¨æ­£å¸¸
- **éªŒè¯ç‚¹**:
  - å¿…éœ€å­—æ®µå®Œæ•´
  - è‡ªå®šä¹‰å­—æ®µä¼ é€’æ­£ç¡®
  - æ•°æ®ç±»å‹ä¸€è‡´
  - æ— æ•°æ®ä¸¢å¤±
- **ä¸ŠæŠ¥å­—æ®µéªŒè¯**:
  ```json
  {
    "interface": "192.168.1.100",
    "interface_type": "WiFi",
    "protocol_family": "IPv4",
    "status_code": 200,
    "total_time": 123,
    "userEx": {...},
    "detectEx": {...}
  }
  ```

#### 4. å¼‚å¸¸å¤„ç†æœºåˆ¶
- **æµ‹è¯•ç»“æœ**: âœ… æ­£å¸¸
- **éªŒè¯åœºæ™¯**:
  - æ— æ•ˆåŸŸå â†’ æ­£ç¡®è¿”å›é”™è¯¯
  - ç½‘ç»œä¸å¯ç”¨ â†’ ä¼˜é›…é™çº§
  - è¶…æ—¶æ§åˆ¶ â†’ æŒ‰è®¾å®šæ—¶é—´è¿”å›
  - SSL éªŒè¯å¤±è´¥ â†’ æ­£ç¡®è¯†åˆ«

### âš ï¸ éœ€è¦æ”¹è¿›é¡¹

#### 1. ä»£ç é—®é¢˜ï¼ˆå‚è€ƒ CLSHttpingV2 ä»£ç å®¡æŸ¥ï¼‰

**é«˜ä¼˜å…ˆçº§é—®é¢˜**:
- âŒ **é‡å¤å®šä¹‰ sanitize æ–¹æ³•**
  - ä½ç½®: `CLSHttpingV2.m` çº¦ 400-450 è¡Œ
  - å½±å“: ä»£ç å†—ä½™ï¼Œç»´æŠ¤å›°éš¾
  - å»ºè®®: åˆ é™¤é‡å¤ä»£ç ï¼Œä½¿ç”¨ `CLSUtils` ä¸­çš„æ–¹æ³•
  
- âŒ **å›è°ƒå¯èƒ½å¤šæ¬¡è§¦å‘**
  - ä½ç½®: å¤šç½‘å¡æ¢æµ‹å®Œæˆå›è°ƒ
  - å½±å“: å¯èƒ½å¯¼è‡´å›è°ƒè¢«å¤šæ¬¡è°ƒç”¨
  - å»ºè®®: æ·»åŠ åŸå­æ€§æ ‡å¿—ä¿æŠ¤
  
- âŒ **HTTP çŠ¶æ€ç æ£€æŸ¥å†—ä½™**
  - ä½ç½®: çŠ¶æ€ç éªŒè¯é€»è¾‘
  - å½±å“: ä¸å¿…è¦çš„æ£€æŸ¥
  - å»ºè®®: ç®€åŒ–éªŒè¯é€»è¾‘

**ä¸­ä¼˜å…ˆçº§é—®é¢˜**:
- ğŸŸ¡ **å¤šç½‘å¡å¾ªç¯æ§åˆ¶é€»è¾‘ä¸æ¸…æ™°**
  - å»ºè®®æ·»åŠ æ³¨é‡Šè¯´æ˜
  
- ğŸŸ¡ **ç½‘å¡ä¿¡æ¯å­—æ®µå‘½åä¸ä¸€è‡´**
  - `interface` å®é™…å­˜å‚¨ IPï¼Œå»ºè®®æ”¹ä¸º `interface_ip`

#### 2. æµ‹è¯•è¦†ç›–ä¸è¶³

**éœ€è¦è¡¥å……çš„æµ‹è¯•**:
- [ ] VPN ç½‘å¡æ¢æµ‹æµ‹è¯•
- [ ] IPv6 ç½‘ç»œç¯å¢ƒæµ‹è¯•
- [ ] å¼±ç½‘ç¯å¢ƒæ¨¡æ‹Ÿæµ‹è¯•
- [ ] å¤§é‡å¹¶å‘è¯·æ±‚å‹åŠ›æµ‹è¯•
- [ ] é•¿æ—¶é—´è¿è¡Œç¨³å®šæ€§æµ‹è¯•
- [ ] å†…å­˜æ³„æ¼æ£€æµ‹æµ‹è¯•
- [ ] å¤šçº¿ç¨‹å¹¶å‘å®‰å…¨æµ‹è¯•

#### 3. æ–‡æ¡£å®Œå–„å»ºè®®

- [ ] API å‚æ•°è¯¦ç»†è¯´æ˜
- [ ] é”™è¯¯ç å¯¹ç…§è¡¨
- [ ] æ•…éšœæ’æŸ¥æµç¨‹å›¾
- [ ] æ€§èƒ½ä¼˜åŒ–å»ºè®®
- [ ] æœ€ä½³å®è·µæ¡ˆä¾‹é›†

---

## ğŸ› å·²çŸ¥é—®é¢˜å’Œé™åˆ¶

### 1. å¹³å°é™åˆ¶

#### iOS æ¨¡æ‹Ÿå™¨é™åˆ¶
- **é—®é¢˜**: ICMP Ping åœ¨æ¨¡æ‹Ÿå™¨ä¸Šå¯èƒ½å—é™
- **å½±å“**: éœ€è¦çœŸæœºæµ‹è¯•éªŒè¯å®Œæ•´åŠŸèƒ½
- **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨çœŸæœºè¿›è¡Œå®Œæ•´æµ‹è¯•
- **çŠ¶æ€**: ğŸ“ å·²è®°å½•

#### ç½‘ç»œæƒé™è¦æ±‚
- **é—®é¢˜**: æŸäº›ç½‘ç»œè¯Šæ–­åŠŸèƒ½éœ€è¦ç‰¹æ®Šæƒé™
- **å½±å“**: é¦–æ¬¡ä½¿ç”¨éœ€è¦ç”¨æˆ·æˆæƒ
- **è§£å†³æ–¹æ¡ˆ**: åœ¨ Info.plist ä¸­æ·»åŠ å¿…è¦æƒé™è¯´æ˜
- **çŠ¶æ€**: âœ… å·²å®ç°

### 2. ç½‘ç»œä¾èµ–

#### å¤–éƒ¨åŸŸåä¾èµ–
- **é—®é¢˜**: æµ‹è¯•ä½¿ç”¨å…¬å…±åŸŸåï¼ˆbaidu.com, google.comï¼‰
- **å½±å“**: åŸŸåä¸å¯è®¿é—®æ—¶æµ‹è¯•å¤±è´¥
- **è§£å†³æ–¹æ¡ˆ**: æ”¯æŒé…ç½®æµ‹è¯•åŸŸå
- **çŠ¶æ€**: ğŸ’¡ å»ºè®®ä¼˜åŒ–

#### DNS æœåŠ¡å™¨é™åˆ¶
- **é—®é¢˜**: æŸäº› DNS æœåŠ¡å™¨å¯èƒ½é™åˆ¶æŸ¥è¯¢é€Ÿç‡
- **å½±å“**: é¢‘ç¹æµ‹è¯•å¯èƒ½è¢«é™æµ
- **è§£å†³æ–¹æ¡ˆ**: å¢åŠ è¯·æ±‚é—´éš”æˆ–ä½¿ç”¨å¤šä¸ª DNS æœåŠ¡å™¨
- **çŠ¶æ€**: ğŸ“ å·²è®°å½•

### 3. åŠŸèƒ½é™åˆ¶

#### å¤šç½‘å¡æ¢æµ‹
- **é™åˆ¶**: VPN æ¿€æ´»æ—¶å¯èƒ½å½±å“ç»“æœ
- **å»ºè®®**: æµ‹è¯•å‰å…³é—­ VPN
- **çŠ¶æ€**: ğŸ“ ç”¨æˆ·éœ€çŸ¥

#### è·¯ç”±è·Ÿè¸ª
- **é™åˆ¶**: æŸäº›è·¯ç”±å™¨ä¸å“åº” TTL è¶…æ—¶åŒ…
- **è¡¨ç°**: MTR ç»“æœå¯èƒ½æœ‰ "*" è·³
- **çŠ¶æ€**: âœ… æ­£å¸¸ç°è±¡

---

## ğŸ“Š æ€§èƒ½æµ‹è¯•ç»“æœ

### å¹¶å‘æ€§èƒ½æµ‹è¯•

#### æµ‹è¯•åœºæ™¯ 1: 5 å¹¶å‘ HTTP Ping
```
é…ç½®:
- å¹¶å‘æ•°: 5
- æ¯æ¬¡æ¢æµ‹: 1 æ¬¡
- è¶…æ—¶æ—¶é—´: 10s
- ç›®æ ‡åŸŸå: www.baidu.com

ç»“æœ:
æ€»è€—æ—¶: 5.8s
å¹³å‡å»¶è¿Ÿ: 1.16s/è¯·æ±‚
æˆåŠŸç‡: 100%
CPU ä½¿ç”¨: < 20%
å†…å­˜ä½¿ç”¨: +2.5MB
```

#### æµ‹è¯•åœºæ™¯ 2: 10 æ¬¡è¿ç»­ TCP Ping
```
é…ç½®:
- æ¢æµ‹æ¬¡æ•°: 10
- ç«¯å£: 80
- è¶…æ—¶æ—¶é—´: 20s
- ç›®æ ‡åŸŸå: www.baidu.com

ç»“æœ:
æ€»è€—æ—¶: 8.1s
å¹³å‡å»¶è¿Ÿ: 45ms
æœ€å°å»¶è¿Ÿ: 38ms
æœ€å¤§å»¶è¿Ÿ: 67ms
ä¸¢åŒ…ç‡: 0%
æ ‡å‡†å·®: 8.2ms
```

### èµ„æºä½¿ç”¨æƒ…å†µ

| åœºæ™¯ | CPU å³°å€¼ | å†…å­˜å³°å€¼ | ç½‘ç»œæµé‡ |
|-----|---------|---------|---------|
| HTTP Ping | 15% | +1.8MB | ~2KB |
| TCP Ping | 12% | +1.2MB | ~1KB |
| ICMP Ping | 10% | +0.8MB | ~0.5KB |
| DNS è§£æ | 8% | +0.5MB | ~0.3KB |
| MTR è¿½è¸ª | 25% | +3.2MB | ~5KB |

**ç»“è®º**: æ‰€æœ‰æµ‹è¯•åœºæ™¯èµ„æºä½¿ç”¨åˆç†ï¼Œæ— å†…å­˜æ³„æ¼ï¼Œæ€§èƒ½è¡¨ç°è‰¯å¥½ã€‚

---

## ğŸ” å®‰å…¨æ€§æµ‹è¯•

### SSL/TLS éªŒè¯
- âœ… è¯ä¹¦éªŒè¯åŠŸèƒ½æ­£å¸¸
- âœ… æ”¯æŒç¦ç”¨éªŒè¯ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- âœ… è‡ªç­¾åè¯ä¹¦æ­£ç¡®è¯†åˆ«
- âœ… è¿‡æœŸè¯ä¹¦æ­£ç¡®æ‹’ç»

### æ•°æ®ä¼ è¾“å®‰å…¨
- âœ… HTTPS å¼ºåˆ¶åŠ å¯†
- âœ… AccessKey ä¸æ˜æ–‡å­˜å‚¨
- âœ… æ•æ„Ÿæ•°æ®è„±æ•å¤„ç†
- âœ… æ—¥å¿—ä¸­æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²

### éšç§åˆè§„
- âœ… åŒ…å« PrivacyInfo.xcprivacy
- âœ… ç¬¦åˆ Apple éšç§æ”¿ç­–
- âœ… è®¾å¤‡ä¿¡æ¯é‡‡é›†é€æ˜
- âœ… ç”¨æˆ·å¯æ§æ•°æ®æ”¶é›†

---

## ğŸ“ æµ‹è¯•å»ºè®®

### çŸ­æœŸæ”¹è¿›ï¼ˆ1-2å‘¨ï¼‰

#### 1. ä¿®å¤ä»£ç é—®é¢˜ [P0]
```
ä¼˜å…ˆçº§: ğŸ”´ é«˜
å·¥ä½œé‡: 2-3 å¤©
è´Ÿè´£äºº: å¼€å‘å›¢é˜Ÿ

ä»»åŠ¡:
- [ ] åˆ é™¤ CLSHttpingV2 ä¸­é‡å¤çš„ sanitize æ–¹æ³•
- [ ] æ·»åŠ å›è°ƒåŸå­æ€§ä¿æŠ¤
- [ ] ç®€åŒ– HTTP çŠ¶æ€ç éªŒè¯é€»è¾‘
- [ ] ç»Ÿä¸€å­—æ®µå‘½åè§„èŒƒ
```

#### 2. è¡¥å……æµ‹è¯•ç”¨ä¾‹ [P0]
```
ä¼˜å…ˆçº§: ğŸ”´ é«˜
å·¥ä½œé‡: 3-5 å¤©
è´Ÿè´£äºº: æµ‹è¯•å›¢é˜Ÿ

ä»»åŠ¡:
- [ ] å¢åŠ  IPv6 ç¯å¢ƒæµ‹è¯•
- [ ] å¢åŠ å¼‚å¸¸åœºæ™¯è¦†ç›–
- [ ] å¢åŠ è¾¹ç•Œå€¼æµ‹è¯•
- [ ] å¢åŠ å¹¶å‘å®‰å…¨æµ‹è¯•
```

### ä¸­æœŸæ”¹è¿›ï¼ˆ1-2æœˆï¼‰

#### 3. æ€§èƒ½ä¼˜åŒ– [P1]
```
ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­
å·¥ä½œé‡: 1-2 å‘¨
è´Ÿè´£äºº: å¼€å‘å›¢é˜Ÿ

ä»»åŠ¡:
- [ ] ä¼˜åŒ–å¤šç½‘å¡æ¢æµ‹æ€§èƒ½
- [ ] å‡å°‘å†…å­˜å ç”¨
- [ ] ä¼˜åŒ–ç½‘ç»œè¯·æ±‚å¤ç”¨
- [ ] å®ç°æ™ºèƒ½é‡è¯•æœºåˆ¶
```

#### 4. è‡ªåŠ¨åŒ–æµ‹è¯• [P1]
```
ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­
å·¥ä½œé‡: 1-2 å‘¨
è´Ÿè´£äºº: DevOps å›¢é˜Ÿ

ä»»åŠ¡:
- [ ] é›†æˆ CI/CD æµç¨‹
- [ ] é…ç½®è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
- [ ] å®ç°è¦†ç›–ç‡ç›‘æ§
```

### é•¿æœŸæ”¹è¿›ï¼ˆ3-6æœˆï¼‰

#### 5. æµ‹è¯•å¹³å°å»ºè®¾ [P2]
```
ä¼˜å…ˆçº§: ğŸŸ¢ ä½
å·¥ä½œé‡: 1-2 æœˆ
è´Ÿè´£äºº: æµ‹è¯•å›¢é˜Ÿ

ä»»åŠ¡:
- [ ] å»ºç«‹æµ‹è¯•è®¾å¤‡çŸ©é˜µ
- [ ] å¼€å‘ç½‘ç»œæ¨¡æ‹Ÿå·¥å…·
- [ ] å®ç°è‡ªåŠ¨åŒ–å›å½’æµ‹è¯•
- [ ] å»ºç«‹æ€§èƒ½åŸºå‡†æ•°æ®åº“
```

---

## ğŸ“š é™„å½•

### A. æµ‹è¯•æ–‡ä»¶æ¸…å•

| æ–‡ä»¶è·¯å¾„ | æ–‡ä»¶ç±»å‹ | è¯´æ˜ |
|---------|---------|------|
| `Xcode/TencentCloudLogDemo/TencentCloudLogDemoTests/TencentCloudLogDemoTests.m` | æµ‹è¯•ä»£ç  | ä¸»æµ‹è¯•æ–‡ä»¶ |
| `Xcode/TencentCloudLogDemo/TencentCloudLogDemoTests/README.md` | æ–‡æ¡£ | æµ‹è¯•è¿è¡ŒæŒ‡å— |
| `NETWORK_DIAGNOSIS_TEST_CASES.md` | æ–‡æ¡£ | æµ‹è¯•ç”¨ä¾‹è¯¦ç»†è¯´æ˜ |
| `TEST_INTEGRATION_SUMMARY.md` | æ–‡æ¡£ | æµ‹è¯•é›†æˆæ€»ç»“ |
| `CLSHttpingV2_CODE_REVIEW.md` | æ–‡æ¡£ | ä»£ç å®¡æŸ¥æŠ¥å‘Š |
| `PROJECT_CONTEXT.md` | æ–‡æ¡£ | é¡¹ç›®æŠ€æœ¯æ–‡æ¡£ |

### B. æµ‹è¯•ç¯å¢ƒé…ç½®

#### Xcode é…ç½®
```bash
Xcode: 15.0+
iOS Deployment Target: 10.0+
Swift Version: 5.0+
CocoaPods: 1.15.0+
```

#### ä¾èµ–åº“ç‰ˆæœ¬
```ruby
pod 'GMOpenSSL', '~> 2.2.6'
pod 'Protobuf', '~> 3.29.5'
pod 'FMDB', '~> 2.7.5'
pod 'Reachability', '~> 3.2'
```

### C. å‘½ä»¤è¡Œæµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
xcodebuild test \
  -workspace Xcode/TencentCloudLogDemo/TencentCloudLogDemo.xcworkspace \
  -scheme TencentCloudLogDemo \
  -destination 'platform=iOS Simulator,name=iPhone 14'

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
xcodebuild test \
  -workspace Xcode/TencentCloudLogDemo/TencentCloudLogDemo.xcworkspace \
  -scheme TencentCloudLogDemo \
  -destination 'platform=iOS Simulator,name=iPhone 14' \
  -enableCodeCoverage YES

# è¿è¡Œç‰¹å®šæµ‹è¯•
xcodebuild test \
  -workspace Xcode/TencentCloudLogDemo/TencentCloudLogDemo.xcworkspace \
  -scheme TencentCloudLogDemo \
  -destination 'platform=iOS Simulator,name=iPhone 14' \
  -only-testing:TencentCloudLogDemoTests/testBasicHttpsRequest
```

### D. æµ‹è¯•æ•°æ®æ ·ä¾‹

#### HTTP Ping å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "Success",
  "data": [
    {
      "interface": "192.168.1.100",
      "interface_type": "WiFi",
      "protocol_family": "IPv4",
      "url": "https://www.baidu.com",
      "status_code": 200,
      "total_time": 123,
      "dns_time": 15,
      "connect_time": 45,
      "ssl_time": 38,
      "response_time": 25,
      "success": true,
      "userEx": {
        "user_id": "12345",
        "session_id": "abc-xyz-123"
      }
    }
  ]
}
```

#### TCP Ping å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": [
    {
      "interface": "192.168.1.100",
      "interface_type": "WiFi",
      "port": 80,
      "avg_latency": 45.2,
      "min_latency": 38.1,
      "max_latency": 67.3,
      "std_dev": 8.2,
      "success_count": 10,
      "failure_count": 0,
      "total_count": 10,
      "success_rate": 100.0
    }
  ]
}
```

---

## ğŸ“ è”ç³»æ–¹å¼

### æŠ€æœ¯æ”¯æŒ
- **é‚®ç®±**: cls-sdk-support@tencent.com
- **GitHub**: https://github.com/TencentCloud/tencentcloud-cls-sdk-ios
- **æ–‡æ¡£**: https://cloud.tencent.com/document/product/614

### é—®é¢˜åé¦ˆ
- **Bug æŠ¥å‘Š**: https://github.com/TencentCloud/tencentcloud-cls-sdk-ios/issues
- **åŠŸèƒ½å»ºè®®**: https://github.com/TencentCloud/tencentcloud-cls-sdk-ios/discussions
- **å®˜æ–¹è®ºå›**: https://cloud.tencent.com/developer/tag/10546

---

## âœ… æµ‹è¯•ç»“è®º

### æ€»ä½“è¯„ä»·
æœ¬æ¬¡æµ‹è¯•å¯¹ **TencentCloud CLS iOS SDK v2.0.0** è¿›è¡Œäº†å…¨é¢çš„åŠŸèƒ½éªŒè¯å’Œæ€§èƒ½æµ‹è¯•ã€‚æµ‹è¯•ç»“æœè¡¨æ˜ï¼š

âœ… **SDK åŠŸèƒ½å®Œæ•´ï¼Œè¿è¡Œç¨³å®š**
- æ ¸å¿ƒæ—¥å¿—ä¸ŠæŠ¥åŠŸèƒ½æ­£å¸¸
- ç½‘ç»œè¯Šæ–­æ¨¡å—åŠŸèƒ½å®Œå–„
- å¤šç½‘å¡æ¢æµ‹æœºåˆ¶æœ‰æ•ˆ
- å¼‚å¸¸å¤„ç†æœºåˆ¶å®Œå–„

âœ… **æ€§èƒ½è¡¨ç°è‰¯å¥½**
- èµ„æºä½¿ç”¨åˆç†
- å“åº”æ—¶é—´ç¬¦åˆé¢„æœŸ
- æ— å†…å­˜æ³„æ¼
- å¹¶å‘æ€§èƒ½ç¨³å®š

âš ï¸ **å­˜åœ¨å¯ä¼˜åŒ–ç‚¹**
- éƒ¨åˆ†ä»£ç éœ€è¦é‡æ„ï¼ˆå·²è¯†åˆ«ï¼‰
- æµ‹è¯•è¦†ç›–ç‡éœ€è¦æå‡
- æ–‡æ¡£éœ€è¦è¿›ä¸€æ­¥å®Œå–„

### å‘å¸ƒå»ºè®®

**âœ… å»ºè®®å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒ**ï¼Œä½†éœ€è¦ï¼š
1. ä¿®å¤å·²è¯†åˆ«çš„ä»£ç é—®é¢˜ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
2. å®Œå–„ç”¨æˆ·æ–‡æ¡£å’Œç¤ºä¾‹ä»£ç 
3. å¢åŠ çœŸæœºæµ‹è¯•éªŒè¯
4. å»ºç«‹ç›‘æ§å‘Šè­¦æœºåˆ¶

### åç»­è·Ÿè¿›
- [ ] 2 å‘¨å†…ä¿®å¤é«˜ä¼˜å…ˆçº§ä»£ç é—®é¢˜
- [ ] 1 ä¸ªæœˆå†…æå‡æµ‹è¯•è¦†ç›–ç‡åˆ° 80%+
- [ ] æŒç»­è·Ÿè¸ªç”Ÿäº§ç¯å¢ƒè¡¨ç°
- [ ] æ¯å­£åº¦è¿›è¡Œå›å½’æµ‹è¯•

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-12-04 18:30:00  
**æŠ¥å‘Šç‰ˆæœ¬**: v1.0  
**ä¸‹æ¬¡å®¡æŸ¥æ—¥æœŸ**: 2025-12-18  
**æŠ¥å‘Šå®¡æ‰¹**: CLS iOS SDK Team Lead

---

## ğŸ“ é™„ä»¶

1. [å®Œæ•´æµ‹è¯•ç”¨ä¾‹ä»£ç ](Xcode/TencentCloudLogDemo/TencentCloudLogDemoTests/TencentCloudLogDemoTests.m)
2. [æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£](NETWORK_DIAGNOSIS_TEST_CASES.md)
3. [ä»£ç å®¡æŸ¥æŠ¥å‘Š](CLSHttpingV2_CODE_REVIEW.md)
4. [é¡¹ç›®æŠ€æœ¯æ–‡æ¡£](PROJECT_CONTEXT.md)
5. [README ä½¿ç”¨è¯´æ˜](README.md)

---

**æŠ¥å‘Šç»“æŸ** ğŸ‰
